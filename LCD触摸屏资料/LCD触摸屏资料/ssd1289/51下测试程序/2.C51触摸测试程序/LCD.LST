C51 COMPILER V7.06   LCD                                                                   05/27/2011 16:40:02 PAGE 1   


C51 COMPILER V7.06, COMPILATION OF MODULE LCD
OBJECT MODULE PLACED IN LCD.OBJ
COMPILER INVOKED BY: d:\Keil\C51\BIN\C51.EXE LCD.c BROWSE DEBUG OBJECTEXTEND

stmt level    source

   1          #include <reg51.h>
   2          #include <intrins.h>
   3          
   4          /*硕耀电子科技 http://hyao.taobao.com/ 
   5          单片机工作电压3.3V
   6          程序默认IO连接方式：
   7          
   8          控制线：RS-P3^5;    WR-P3^6;   RD-P3^7;   CS-P1^0;   REST-P1^1;
   9          
  10          数据线: DB0-DB7依次连接P0^0-P0^7;  DB8-DB15依次连接P2^0-P2^7;
  11          
  12          触摸功能连接方式：(不使用触摸可不连接)
  13          D_CLK-P1^2;  D_CS-P1^3;  D_DIN-P1^4;  D_OUT-P1^6;  D_PENIRQ-P1^7;
  14          
  15          SD卡接线；(不使用触摸可不连接)
  16          SD_MISO-P31;  SD_SCK-P32;  SD_MOSI-P33;  SD_CS-P34;
  17          */
  18          #define  LCD_DataPortH P2     //高8位数据口
  19          #define  LCD_DataPortL P0     //低8位数据口,请确认P0口已经上拉10K电阻,不宜太小，最小4.7K,推荐10K.
  20          sbit LCD_RS = P3^5;              //数据/命令切换
  21          sbit LCD_WR = P3^6;               //写控制
  22          sbit LCD_RD =P3^7;                   //读控制
  23          sbit LCD_CS=P1^0;               //片选  
  24          sbit LCD_REST = P1^1;         //复位    
  25          
  26          /* touch panel interface define */
  27          sbit DCLK          =    P1^2;
  28          sbit CS        =    P1^3;
  29          sbit DIN       =    P1^4;       
  30          sbit DOUT      =    P1^6;
  31          sbit Penirq       =    P1^7;   //检测触摸屏响应信号
  32          unsigned int TP_X,TP_Y;    //当前触控坐标
  33          
  34           
  35          //8*12字符
  36          unsigned char code zifu[]={         
  37          /*--  文字:     --*/
  38          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  39          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  40          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  41          
  42          /*--  文字:  !  --*/
  43          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  44          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  45          0x00,0x00,0x20,0x20,0x20,0x20,0x20,0x20,0x00,0x20,0x00,0x00,
  46          
  47          /*--  文字:  "  --*/
  48          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  49          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  50          0x00,0x28,0x50,0x50,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  51          
  52          /*--  文字:  #  --*/
  53          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  54          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  55          0x00,0x00,0x28,0x28,0xFC,0x28,0x50,0xFC,0x50,0x50,0x00,0x00,
C51 COMPILER V7.06   LCD                                                                   05/27/2011 16:40:02 PAGE 2   

  56          
  57          /*--  文字:  $  --*/
  58          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  59          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  60          0x00,0x20,0x78,0xA8,0xA0,0x60,0x30,0x28,0xA8,0xF0,0x20,0x00,
  61          
  62          /*--  文字:  %  --*/
  63          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  64          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  65          0x00,0x00,0x48,0xA8,0xB0,0x50,0x28,0x34,0x54,0x48,0x00,0x00,
  66          
  67          /*--  文字:  &  --*/
  68          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  69          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  70          0x00,0x00,0x20,0x50,0x50,0x78,0xA8,0xA8,0x90,0x6C,0x00,0x00,
  71          
  72          /*--  文字:  '  --*/
  73          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  74          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  75          0x00,0x40,0x40,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  76          
  77          /*--  文字:  (  --*/
  78          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  79          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  80          0x00,0x04,0x08,0x10,0x10,0x10,0x10,0x10,0x10,0x08,0x04,0x00,
  81          
  82          /*--  文字:  )  --*/
  83          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  84          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  85          0x00,0x40,0x20,0x10,0x10,0x10,0x10,0x10,0x10,0x20,0x40,0x00,
  86          
  87          /*--  文字:  *  --*/
  88          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  89          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  90          0x00,0x00,0x00,0x20,0xA8,0x70,0x70,0xA8,0x20,0x00,0x00,0x00,
  91          
  92          /*--  文字:  +  --*/
  93          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  94          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  95          0x00,0x00,0x20,0x20,0x20,0xF8,0x20,0x20,0x20,0x00,0x00,0x00,
  96          
  97          /*--  文字:  ,  --*/
  98          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  99          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 100          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x40,0x80,
 101          
 102          /*--  文字:  -  --*/
 103          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 104          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 105          0x00,0x00,0x00,0x00,0x00,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,
 106          
 107          /*--  文字:  .  --*/
 108          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 109          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 110          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00,
 111          
 112          /*--  文字:  /  --*/
 113          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 114          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 115          0x00,0x08,0x10,0x10,0x10,0x20,0x20,0x40,0x40,0x40,0x80,0x00,
 116          
 117          /*--  文字:  0  --*/
C51 COMPILER V7.06   LCD                                                                   05/27/2011 16:40:02 PAGE 3   

 118          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 119          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 120          0x00,0x00,0x70,0x88,0x88,0x88,0x88,0x88,0x88,0x70,0x00,0x00,
 121          
 122          /*--  文字:  1  --*/
 123          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 124          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 125          0x00,0x00,0x20,0x60,0x20,0x20,0x20,0x20,0x20,0x70,0x00,0x00,
 126          
 127          /*--  文字:  2  --*/
 128          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 129          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 130          0x00,0x00,0x70,0x88,0x88,0x10,0x20,0x40,0x80,0xF8,0x00,0x00,
 131          
 132          /*--  文字:  3  --*/
 133          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 134          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 135          0x00,0x00,0x70,0x88,0x08,0x30,0x08,0x08,0x88,0x70,0x00,0x00,
 136          
 137          /*--  文字:  4  --*/
 138          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 139          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 140          0x00,0x00,0x10,0x30,0x50,0x50,0x90,0x78,0x10,0x18,0x00,0x00,
 141          
 142          /*--  文字:  5  --*/
 143          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 144          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 145          0x00,0x00,0xF8,0x80,0x80,0xF0,0x08,0x08,0x88,0x70,0x00,0x00,
 146          
 147          /*--  文字:  6  --*/
 148          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 149          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 150          0x00,0x00,0x70,0x90,0x80,0xF0,0x88,0x88,0x88,0x70,0x00,0x00,
 151          
 152          /*--  文字:  7  --*/
 153          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 154          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 155          0x00,0x00,0xF8,0x90,0x10,0x20,0x20,0x20,0x20,0x20,0x00,0x00,
 156          
 157          /*--  文字:  8  --*/
 158          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 159          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 160          0x00,0x00,0x70,0x88,0x88,0x70,0x88,0x88,0x88,0x70,0x00,0x00,
 161          
 162          /*--  文字:  9  --*/
 163          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 164          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 165          0x00,0x00,0x70,0x88,0x88,0x88,0x78,0x08,0x48,0x70,0x00,0x00,
 166          
 167          /*--  文字:  :  --*/
 168          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 169          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 170          0x00,0x00,0x00,0x00,0x20,0x00,0x00,0x00,0x00,0x20,0x00,0x00,
 171          
 172          /*--  文字:  ;  --*/
 173          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 174          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 175          0x00,0x00,0x00,0x00,0x00,0x20,0x00,0x00,0x00,0x20,0x20,0x00,
 176          
 177          /*--  文字:  <  --*/
 178          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 179          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
C51 COMPILER V7.06   LCD                                                                   05/27/2011 16:40:02 PAGE 4   

 180          0x00,0x04,0x08,0x10,0x20,0x40,0x20,0x10,0x08,0x04,0x00,0x00,
 181          
 182          /*--  文字:  =  --*/
 183          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 184          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 185          0x00,0x00,0x00,0x00,0xF8,0x00,0x00,0xF8,0x00,0x00,0x00,0x00,
 186          
 187          /*--  文字:  >  --*/
 188          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 189          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 190          0x00,0x40,0x20,0x10,0x08,0x04,0x08,0x10,0x20,0x40,0x00,0x00,
 191          
 192          /*--  文字:  ?  --*/
 193          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 194          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 195          0x00,0x00,0x70,0x88,0x88,0x10,0x20,0x20,0x00,0x20,0x00,0x00,
 196          
 197          /*--  文字:  @  --*/
 198          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 199          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 200          0x00,0x00,0x70,0x88,0x98,0xA8,0xA8,0xB8,0x80,0x78,0x00,0x00,
 201          
 202          /*--  文字:  A  --*/
 203          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 204          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 205          0x00,0x00,0x20,0x20,0x30,0x50,0x50,0x78,0x48,0xCC,0x00,0x00,
 206          
 207          /*--  文字:  B  --*/
 208          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 209          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 210          0x00,0x00,0xF0,0x48,0x48,0x70,0x48,0x48,0x48,0xF0,0x00,0x00,
 211          
 212          /*--  文字:  C  --*/
 213          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 214          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 215          0x00,0x00,0x78,0x88,0x80,0x80,0x80,0x80,0x88,0x70,0x00,0x00,
 216          
 217          /*--  文字:  D  --*/
 218          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 219          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 220          0x00,0x00,0xF0,0x48,0x48,0x48,0x48,0x48,0x48,0xF0,0x00,0x00,
 221          
 222          /*--  文字:  E  --*/
 223          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 224          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 225          0x00,0x00,0xF8,0x48,0x50,0x70,0x50,0x40,0x48,0xF8,0x00,0x00,
 226          
 227          /*--  文字:  F  --*/
 228          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 229          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 230          0x00,0x00,0xF8,0x48,0x50,0x70,0x50,0x40,0x40,0xE0,0x00,0x00,
 231          
 232          /*--  文字:  G  --*/
 233          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 234          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 235          0x00,0x00,0x38,0x48,0x80,0x80,0x9C,0x88,0x48,0x30,0x00,0x00,
 236          
 237          /*--  文字:  H  --*/
 238          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 239          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 240          0x00,0x00,0xCC,0x48,0x48,0x78,0x48,0x48,0x48,0xCC,0x00,0x00,
 241          
C51 COMPILER V7.06   LCD                                                                   05/27/2011 16:40:02 PAGE 5   

 242          /*--  文字:  I  --*/
 243          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 244          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 245          0x00,0x00,0xF8,0x20,0x20,0x20,0x20,0x20,0x20,0xF8,0x00,0x00,
 246          
 247          /*--  文字:  J  --*/
 248          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 249          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 250          0x00,0x00,0x7C,0x10,0x10,0x10,0x10,0x10,0x10,0x90,0xE0,0x00,
 251          
 252          /*--  文字:  K  --*/
 253          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 254          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 255          0x00,0x00,0xEC,0x48,0x50,0x60,0x50,0x50,0x48,0xEC,0x00,0x00,
 256          
 257          /*--  文字:  L  --*/
 258          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 259          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 260          0x00,0x00,0xE0,0x40,0x40,0x40,0x40,0x40,0x44,0xFC,0x00,0x00,
 261          
 262          /*--  文字:  M  --*/
 263          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 264          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 265          0x00,0x00,0xD8,0xD8,0xD8,0xD8,0xA8,0xA8,0xA8,0xA8,0x00,0x00,
 266          
 267          /*--  文字:  N  --*/
 268          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 269          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 270          0x00,0x00,0xDC,0x48,0x68,0x68,0x58,0x58,0x48,0xE8,0x00,0x00,
 271          
 272          /*--  文字:  O  --*/
 273          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 274          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 275          0x00,0x00,0x70,0x88,0x88,0x88,0x88,0x88,0x88,0x70,0x00,0x00,
 276          
 277          /*--  文字:  P  --*/
 278          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 279          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 280          0x00,0x00,0xF0,0x48,0x48,0x70,0x40,0x40,0x40,0xE0,0x00,0x00,
 281          
 282          /*--  文字:  Q  --*/
 283          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 284          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 285          0x00,0x00,0x70,0x88,0x88,0x88,0x88,0xE8,0x98,0x70,0x18,0x00,
 286          
 287          /*--  文字:  R  --*/
 288          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 289          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 290          0x00,0x00,0xF0,0x48,0x48,0x70,0x50,0x48,0x48,0xEC,0x00,0x00,
 291          
 292          /*--  文字:  S  --*/
 293          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 294          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 295          0x00,0x00,0x78,0x88,0x80,0x60,0x10,0x08,0x88,0xF0,0x00,0x00,
 296          
 297          /*--  文字:  T  --*/
 298          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 299          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 300          0x00,0x00,0xF8,0xA8,0x20,0x20,0x20,0x20,0x20,0x70,0x00,0x00,
 301          
 302          /*--  文字:  U  --*/
 303          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
C51 COMPILER V7.06   LCD                                                                   05/27/2011 16:40:02 PAGE 6   

 304          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 305          0x00,0x00,0xCC,0x48,0x48,0x48,0x48,0x48,0x48,0x30,0x00,0x00,
 306          
 307          /*--  文字:  V  --*/
 308          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 309          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 310          0x00,0x00,0xCC,0x48,0x48,0x50,0x50,0x30,0x20,0x20,0x00,0x00,
 311          
 312          /*--  文字:  W  --*/
 313          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 314          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 315          0x00,0x00,0xA8,0xA8,0xA8,0x70,0x50,0x50,0x50,0x50,0x00,0x00,
 316          
 317          /*--  文字:  X  --*/
 318          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 319          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 320          0x00,0x00,0xD8,0x50,0x50,0x20,0x20,0x50,0x50,0xD8,0x00,0x00,
 321          
 322          /*--  文字:  Y  --*/
 323          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 324          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 325          0x00,0x00,0xD8,0x50,0x50,0x20,0x20,0x20,0x20,0x70,0x00,0x00,
 326          
 327          /*--  文字:  Z  --*/
 328          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 329          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 330          0x00,0x00,0xF8,0x90,0x10,0x20,0x20,0x40,0x48,0xF8,0x00,0x00,
 331          
 332          /*--  文字:  [  --*/
 333          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 334          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 335          0x00,0x38,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x38,0x00,
 336          
 337          /*--  文字:  \  --*/
 338          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 339          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 340          0x00,0x40,0x40,0x40,0x20,0x20,0x10,0x10,0x10,0x08,0x00,0x00,
 341          
 342          /*--  文字:  ]  --*/
 343          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 344          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 345          0x00,0x70,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x70,0x00,
 346          
 347          /*--  文字:  ^  --*/
 348          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 349          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 350          0x00,0x20,0x50,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 351          
 352          /*--  文字:  _  --*/
 353          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 354          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 355          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFC,
 356          
 357          /*--  文字:  `  --*/
 358          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 359          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 360          0x00,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 361          
 362          /*--  文字:  a  --*/
 363          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 364          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 365          0x00,0x00,0x00,0x00,0x00,0x30,0x48,0x38,0x48,0x3C,0x00,0x00,
C51 COMPILER V7.06   LCD                                                                   05/27/2011 16:40:02 PAGE 7   

 366          
 367          /*--  文字:  b  --*/
 368          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 369          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 370          0x00,0x00,0xC0,0x40,0x40,0x70,0x48,0x48,0x48,0x70,0x00,0x00,
 371          
 372          /*--  文字:  c  --*/
 373          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 374          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 375          0x00,0x00,0x00,0x00,0x00,0x38,0x48,0x40,0x40,0x38,0x00,0x00,
 376          
 377          /*--  文字:  d  --*/
 378          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 379          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 380          0x00,0x00,0x18,0x08,0x08,0x38,0x48,0x48,0x48,0x3C,0x00,0x00,
 381          
 382          /*--  文字:  e  --*/
 383          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 384          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 385          0x00,0x00,0x00,0x00,0x00,0x30,0x48,0x78,0x40,0x38,0x00,0x00,
 386          
 387          /*--  文字:  f  --*/
 388          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 389          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 390          0x00,0x00,0x1C,0x20,0x20,0x78,0x20,0x20,0x20,0x78,0x00,0x00,
 391          
 392          /*--  文字:  g  --*/
 393          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 394          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 395          0x00,0x00,0x00,0x00,0x00,0x3C,0x48,0x30,0x40,0x78,0x44,0x38,
 396          
 397          /*--  文字:  h  --*/
 398          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 399          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 400          0x00,0x00,0xC0,0x40,0x40,0x70,0x48,0x48,0x48,0xEC,0x00,0x00,
 401          
 402          /*--  文字:  i  --*/
 403          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 404          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 405          0x00,0x00,0x20,0x00,0x00,0x60,0x20,0x20,0x20,0x70,0x00,0x00,
 406          
 407          /*--  文字:  j  --*/
 408          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 409          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 410          0x00,0x00,0x10,0x00,0x00,0x30,0x10,0x10,0x10,0x10,0x10,0xE0,
 411          
 412          /*--  文字:  k  --*/
 413          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 414          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 415          0x00,0x00,0xC0,0x40,0x40,0x5C,0x50,0x70,0x48,0xEC,0x00,0x00,
 416          
 417          /*--  文字:  l  --*/
 418          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 419          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 420          0x00,0x00,0xE0,0x20,0x20,0x20,0x20,0x20,0x20,0xF8,0x00,0x00,
 421          
 422          /*--  文字:  m  --*/
 423          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 424          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 425          0x00,0x00,0x00,0x00,0x00,0xF0,0xA8,0xA8,0xA8,0xA8,0x00,0x00,
 426          
 427          /*--  文字:  n  --*/
C51 COMPILER V7.06   LCD                                                                   05/27/2011 16:40:02 PAGE 8   

 428          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 429          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 430          0x00,0x00,0x00,0x00,0x00,0xF0,0x48,0x48,0x48,0xEC,0x00,0x00,
 431          
 432          /*--  文字:  o  --*/
 433          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 434          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 435          0x00,0x00,0x00,0x00,0x00,0x30,0x48,0x48,0x48,0x30,0x00,0x00,
 436          
 437          /*--  文字:  p  --*/
 438          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 439          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 440          0x00,0x00,0x00,0x00,0x00,0xF0,0x48,0x48,0x48,0x70,0x40,0xE0,
 441          
 442          /*--  文字:  q  --*/
 443          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 444          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 445          0x00,0x00,0x00,0x00,0x00,0x38,0x48,0x48,0x48,0x38,0x08,0x1C,
 446          
 447          /*--  文字:  r  --*/
 448          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 449          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 450          0x00,0x00,0x00,0x00,0x00,0xD8,0x60,0x40,0x40,0xE0,0x00,0x00,
 451          
 452          /*--  文字:  s  --*/
 453          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 454          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 455          0x00,0x00,0x00,0x00,0x00,0x78,0x40,0x30,0x08,0x78,0x00,0x00,
 456          
 457          /*--  文字:  t  --*/
 458          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 459          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 460          0x00,0x00,0x00,0x20,0x20,0x70,0x20,0x20,0x20,0x18,0x00,0x00,
 461          
 462          /*--  文字:  u  --*/
 463          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 464          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 465          0x00,0x00,0x00,0x00,0x00,0xD8,0x48,0x48,0x48,0x3C,0x00,0x00,
 466          
 467          /*--  文字:  v  --*/
 468          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 469          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 470          0x00,0x00,0x00,0x00,0x00,0xEC,0x48,0x50,0x30,0x20,0x00,0x00,
 471          
 472          /*--  文字:  w  --*/
 473          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 474          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 475          0x00,0x00,0x00,0x00,0x00,0xA8,0xA8,0x70,0x50,0x50,0x00,0x00,
 476          
 477          /*--  文字:  x  --*/
 478          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 479          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 480          0x00,0x00,0x00,0x00,0x00,0xD8,0x50,0x20,0x50,0xD8,0x00,0x00,
 481          
 482          /*--  文字:  y  --*/
 483          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 484          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 485          0x00,0x00,0x00,0x00,0x00,0xEC,0x48,0x50,0x30,0x20,0x20,0xC0,
 486          
 487          /*--  文字:  z  --*/
 488          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 489          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
C51 COMPILER V7.06   LCD                                                                   05/27/2011 16:40:02 PAGE 9   

 490          0x00,0x00,0x00,0x00,0x00,0x78,0x10,0x20,0x20,0x78,0x00,0x00,
 491          
 492          /*--  文字:  {  --*/
 493          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 494          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 495          0x00,0x18,0x10,0x10,0x10,0x20,0x10,0x10,0x10,0x10,0x18,0x00,
 496          
 497          /*--  文字:  |  --*/
 498          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 499          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 500          0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
 501          
 502          /*--  文字:  }  --*/
 503          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 504          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 505          0x00,0x60,0x20,0x20,0x20,0x10,0x20,0x20,0x20,0x20,0x60,0x00,
 506          
 507          /*--  文字:  ~  --*/
 508          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 509          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 510          0x40,0xA4,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 511          
 512              
 513          };  
 514          
 515          //**********************************************************
 516          void spistar()                                     //SPI开始
 517          {
 518   1      CS=1;
 519   1      DCLK=1;
 520   1      DIN=1;
 521   1      }
 522          //**********************************************************
 523          void WriteCharTo7843(unsigned char num)          //SPI写数据
 524          {
 525   1      unsigned char count=0;
 526   1      DCLK=0;
 527   1      for(count=0;count<8;count++)
 528   1      {
 529   2      num<<=1;
 530   2      DIN=CY;
 531   2      DCLK=0; _nop_();_nop_();_nop_();                //上升沿有效
 532   2      DCLK=1; _nop_();_nop_();_nop_();
 533   2      }
 534   1      }
 535          //**********************************************************
 536          unsigned int ReadFromCharFrom7843()             //SPI 读数据
 537          {
 538   1      unsigned char count=0;
 539   1      unsigned int Num=0;
 540   1      for(count=0;count<12;count++)
 541   1      {
 542   2      Num<<=1;
 543   2      DCLK=1; _nop_();_nop_();_nop_();                //下降沿有效
 544   2      DCLK=0; _nop_();_nop_();_nop_();
 545   2      if(DOUT) Num++;
 546   2      }
 547   1      return(Num);
 548   1      }
 549          
 550          void delayms(int count)  // /* X1ms */
 551          {
C51 COMPILER V7.06   LCD                                                                   05/27/2011 16:40:02 PAGE 10  

 552   1              int i,j;
 553   1              for(i=0;i<count;i++)
 554   1                      for(j=0;j<1000;j++);
 555   1      }
 556          void Lcd_Write_Com( int  DH)     //命令
 557          {       
 558   1          LCD_RS=0;
 559   1              LCD_CS =0;       
 560   1              LCD_DataPortH=DH>>8;    
 561   1              LCD_DataPortL=DH;               
 562   1              LCD_WR=0;
 563   1              LCD_WR=1;
 564   1              LCD_CS =1;      
 565   1      }
 566          void Lcd_Write_Data(int DH)     //数据  
 567          {
 568   1          LCD_RS=1;
 569   1              LCD_CS =0;                                      
 570   1              LCD_DataPortH=DH>>8;    
 571   1              LCD_DataPortL=DH;                                       
 572   1              LCD_WR=0;
 573   1              LCD_WR=1;
 574   1              LCD_CS =1;      
 575   1      }
 576          
 577          
 578          void Lcd_Write_Com_Data( int com1,dat1) //命令数据一起 
 579          {
 580   1         Lcd_Write_Com(com1);
 581   1         Lcd_Write_Data(dat1);
 582   1      }
 583          
 584          
 585          
 586          void Address_set(unsigned int x1,unsigned int y1,unsigned int x2,unsigned int y2)
 587          {
 588   1              Lcd_Write_Com_Data(0x0044,(x2<<8)+x1);
 589   1              Lcd_Write_Com_Data(0x0045,y1);
 590   1              Lcd_Write_Com_Data(0x0046,y2);
 591   1              Lcd_Write_Com_Data(0x004e,x1);
 592   1              Lcd_Write_Com_Data(0x004f,y1);
 593   1          Lcd_Write_Com(0x0022);         
 594   1      }       
 595          void Lcd_Init(void)
 596          {
 597   1          LCD_RD=1;
 598   1          LCD_REST=1;
 599   1          delayms(5); 
 600   1              LCD_REST=0;
 601   1              delayms(20);
 602   1              LCD_REST=1;
 603   1              LCD_CS=1;
 604   1              LCD_RD=1;
 605   1              LCD_WR=1;
 606   1              delayms(40);
 607   1      
 608   1      Lcd_Write_Com_Data(0x0000,0x0001);    delayms(1);  //打开晶振
 609   1          Lcd_Write_Com_Data(0x0003,0xA8A4);    delayms(1);   //0xA8A4
 610   1          Lcd_Write_Com_Data(0x000C,0x0000);    delayms(1);   
 611   1          Lcd_Write_Com_Data(0x000D,0x080C);    delayms(1);   
 612   1          Lcd_Write_Com_Data(0x000E,0x2B00);    delayms(1);   
 613   1          Lcd_Write_Com_Data(0x001E,0x00B0);    delayms(1);   
C51 COMPILER V7.06   LCD                                                                   05/27/2011 16:40:02 PAGE 11  

 614   1          Lcd_Write_Com_Data(0x0001,0x2B3F);    delayms(1);   //驱动输出控制320*240  0x6B3F
 615   1          Lcd_Write_Com_Data(0x0002,0x0600);    delayms(1);
 616   1          Lcd_Write_Com_Data(0x0010,0x0000);    delayms(1);
 617   1          Lcd_Write_Com_Data(0x0011,0x6070);    delayms(1);        //0x4030           //定义数据格式  16位色 
 618   1          Lcd_Write_Com_Data(0x0005,0x0000);    delayms(1);
 619   1          Lcd_Write_Com_Data(0x0006,0x0000);    delayms(1);
 620   1          Lcd_Write_Com_Data(0x0016,0xEF1C);    delayms(1);
 621   1          Lcd_Write_Com_Data(0x0017,0x0003);    delayms(1);
 622   1          Lcd_Write_Com_Data(0x0007,0x0233);    delayms(1);        //0x0233       
 623   1          Lcd_Write_Com_Data(0x000B,0x0000);    delayms(1);
 624   1          Lcd_Write_Com_Data(0x000F,0x0000);    delayms(1);        //扫描开始地址
 625   1          Lcd_Write_Com_Data(0x0041,0x0000);    delayms(1);
 626   1          Lcd_Write_Com_Data(0x0042,0x0000);    delayms(1);
 627   1          Lcd_Write_Com_Data(0x0048,0x0000);    delayms(1);
 628   1          Lcd_Write_Com_Data(0x0049,0x013F);    delayms(1);
 629   1          Lcd_Write_Com_Data(0x004A,0x0000);    delayms(1);
 630   1          Lcd_Write_Com_Data(0x004B,0x0000);    delayms(1);
 631   1          Lcd_Write_Com_Data(0x0044,0xEF00);    delayms(1);
 632   1          Lcd_Write_Com_Data(0x0045,0x0000);    delayms(1);
 633   1          Lcd_Write_Com_Data(0x0046,0x013F);    delayms(1);
 634   1          Lcd_Write_Com_Data(0x0030,0x0707);    delayms(1);
 635   1          Lcd_Write_Com_Data(0x0031,0x0204);    delayms(1);
 636   1          Lcd_Write_Com_Data(0x0032,0x0204);    delayms(1);
 637   1          Lcd_Write_Com_Data(0x0033,0x0502);    delayms(1);
 638   1          Lcd_Write_Com_Data(0x0034,0x0507);    delayms(1);
 639   1          Lcd_Write_Com_Data(0x0035,0x0204);    delayms(1);
 640   1          Lcd_Write_Com_Data(0x0036,0x0204);    delayms(1);
 641   1          Lcd_Write_Com_Data(0x0037,0x0502);    delayms(1);
 642   1          Lcd_Write_Com_Data(0x003A,0x0302);    delayms(1);
 643   1          Lcd_Write_Com_Data(0x003B,0x0302);    delayms(1);
 644   1          Lcd_Write_Com_Data(0x0023,0x0000);    delayms(1);
 645   1          Lcd_Write_Com_Data(0x0024,0x0000);    delayms(1);
 646   1          Lcd_Write_Com_Data(0x0025,0x8000);    delayms(1);
 647   1          Lcd_Write_Com_Data(0x004f,0);        //行首址0
 648   1          Lcd_Write_Com_Data(0x004e,0);        //列首址0
 649   1              Lcd_Write_Com(0x0022);
 650   1      
 651   1      }
 652          
 653          
 654          void Pant(unsigned int color)
 655          {
 656   1              int i,j;
 657   1              Address_set(0,0,239,319);
 658   1      
 659   1          for(i=0;i<320;i++)
 660   1               {
 661   2                for (j=0;j<240;j++)
 662   2                      {
 663   3               Lcd_Write_Data(color);
 664   3                  }
 665   2      
 666   2                }             
 667   1      }
 668          void inttostr(int dd,unsigned char *str)
 669          {
 670   1              str[0]=dd/10000+48;
 671   1              str[1]=(dd/1000)-((dd/10000)*10)+48;
 672   1              str[2]=(dd/100)-((dd/1000)*10)+48;
 673   1              str[3]=(dd/10)-((dd/100)*10)+48;
 674   1              str[4]=dd-((dd/10)*10)+48;
 675   1              str[5]=0;
C51 COMPILER V7.06   LCD                                                                   05/27/2011 16:40:02 PAGE 12  

 676   1      }
 677          void AD7843(void)              //外部中断0 用来接受键盘发来的数据
 678          {
 679   1      //delayms(1);                     //中断后延时以消除抖动，使得采样数据更准确
 680   1      //spistar();                       //启动SPI
 681   1      //while(BUSY);                //如果BUSY信号不好使可以删除不用
 682   1      //delayms(1);
 683   1      CS=0;
 684   1      WriteCharTo7843(0x90);        //送控制字 10010000 即用差分方式读X坐标 详细请见有关资料
 685   1      //while(BUSY);               //如果BUSY信号不好使可以删除不用
 686   1      //delayms(1);
 687   1      DCLK=1; _nop_();_nop_();_nop_();_nop_();
 688   1      DCLK=0; _nop_();_nop_();_nop_();_nop_();
 689   1      TP_Y=ReadFromCharFrom7843();
 690   1      WriteCharTo7843(0xD0);       //送控制字 11010000 即用差分方式读Y坐标 详细请见有关资料
 691   1      DCLK=1; _nop_();_nop_();_nop_();_nop_();
 692   1      DCLK=0; _nop_();_nop_();_nop_();_nop_();
 693   1      TP_X=ReadFromCharFrom7843();
 694   1      CS=1;
 695   1      }
 696          
 697          //在指定位置显示一个字符(8*12大小)
 698          //dcolor为内容颜色，gbcolor为背静颜色
 699          void showzifu(unsigned int x,unsigned int y,unsigned char value,unsigned int dcolor,unsigned int bgcolor)       
 700          {  
 701   1              unsigned char i,j;
 702   1              unsigned char *temp=zifu;    
 703   1          Address_set(x,y,x+7,y+11); //设置区域      
 704   1              temp+=(value-32)*12;
 705   1              for(j=0;j<12;j++)
 706   1              {
 707   2                      for(i=0;i<8;i++)
 708   2                      {                    
 709   3                              if((*temp&(1<<(7-i)))!=0)
 710   3                              {
 711   4                                      Lcd_Write_Data(dcolor);
 712   4                              } 
 713   3                              else
 714   3                              {
 715   4                                      Lcd_Write_Data(bgcolor);
 716   4                              }   
 717   3                      }
 718   2                      temp++;
 719   2               }
 720   1      }
 721          //在指定位置显示一个字符串(8*12大小)
 722          //dcolor为内容颜色，gbcolor为背静颜色
 723          void showzifustr(unsigned int x,unsigned int y,unsigned char *str,unsigned int dcolor,unsigned int bgcolor
             -)          
 724          {  
 725   1              unsigned int x1,y1;
 726   1              x1=x;
 727   1              y1=y;
 728   1              while(*str!='\0')
 729   1              {       
 730   2                      showzifu(x1,y1,*str,dcolor,bgcolor);
 731   2                      x1+=7;
 732   2                      str++;
 733   2              }       
 734   1      }
 735          
 736          main()
C51 COMPILER V7.06   LCD                                                                   05/27/2011 16:40:02 PAGE 13  

 737          {
 738   1      
 739   1              unsigned char ss[6];    
 740   1              unsigned int lx,ly;
 741   1              spistar();  //模拟spi初始化
 742   1              Lcd_Init();   //tft初始化        
 743   1              Pant(0xffff);
 744   1              showzifustr(68,5,"VERY GOOD",0,0xffff); //显示字符串 
 745   1              while(1)
 746   1              { 
 747   2                      if (Penirq==0)
 748   2                      {       
 749   3                              AD7843();
 750   3                              inttostr(TP_X,ss);
 751   3                              showzifustr(10,305,"X:",0xf800,0xffff);
 752   3                              showzifustr(25,305,ss,0xf800,0xffff);   //显示字符串 
 753   3                              inttostr(TP_Y,ss);
 754   3                              showzifustr(80,305,"Y:",0xf800,0xffff);
 755   3                              showzifustr(95,305,ss,0xf800,0xffff);   //显示字符串 
 756   3                              lx=((TP_X-220)/16);
 757   3                              ly=320-((TP_Y-400)/11);
 758   3                              Address_set(lx,ly,lx+2,ly+2);
 759   3                              Lcd_Write_Data(255);
 760   3                              Lcd_Write_Data(255);
 761   3                              Lcd_Write_Data(255);
 762   3                              Lcd_Write_Data(255);
 763   3                              Lcd_Write_Data(255);
 764   3                              Lcd_Write_Data(255);
 765   3                              Lcd_Write_Data(255);
 766   3                              Lcd_Write_Data(255);
 767   3                              Lcd_Write_Data(255);
 768   3      
 769   3                      //      delayms(100);
 770   3      
 771   3                      }
 772   2          }
 773   1      
 774   1      
 775   1      
 776   1      }
 777          
 778          
 779          
 780          
 781          
 782          
 783          
 784          
 785          
 786          
 787          
 788          
 789          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1410    ----
   CONSTANT SIZE    =   1156    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4      54
   IDATA SIZE       =   ----    ----
C51 COMPILER V7.06   LCD                                                                   05/27/2011 16:40:02 PAGE 14  

   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
