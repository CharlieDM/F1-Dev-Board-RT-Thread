C51 COMPILER V9.00   TEXT1                                                                 05/09/2010 18:55:41 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE TEXT1
OBJECT MODULE PLACED IN Text1.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE Text1.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include <reg52.h>
   2          #include <intrins.h>
   3          
   4          sbit LCD_RS = P3^5;   //数据/命令切换
   5          sbit LCD_REST = P1^2;         //复位 
   6          sbit LCD_WR = P3^6;               //写控制
   7          sbit LCD_RD =P3^7;                //读控制
   8          sbit LCD_CS=P1^0;               
   9          
  10          /* touch panel interface define */
  11          sbit DCLK          =    P1^7;
  12          sbit CS        =    P1^4;
  13          sbit DIN       =    P3^0;       
  14          sbit DOUT      =    P3^1;
  15          sbit IRQ       =    P3^4;   //检测触摸屏响应信号
  16          unsigned int TP_X,TP_Y;    //当前触控坐标
  17          
  18           
  19          //8*12字符
  20          unsigned char code zifu[]={         
  21          /*--  文字:     --*/
  22          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  23          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  24          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  25          
  26          /*--  文字:  !  --*/
  27          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  28          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  29          0x00,0x00,0x20,0x20,0x20,0x20,0x20,0x20,0x00,0x20,0x00,0x00,
  30          
  31          /*--  文字:  "  --*/
  32          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  33          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  34          0x00,0x28,0x50,0x50,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  35          
  36          /*--  文字:  #  --*/
  37          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  38          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  39          0x00,0x00,0x28,0x28,0xFC,0x28,0x50,0xFC,0x50,0x50,0x00,0x00,
  40          
  41          /*--  文字:  $  --*/
  42          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  43          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  44          0x00,0x20,0x78,0xA8,0xA0,0x60,0x30,0x28,0xA8,0xF0,0x20,0x00,
  45          
  46          /*--  文字:  %  --*/
  47          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  48          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  49          0x00,0x00,0x48,0xA8,0xB0,0x50,0x28,0x34,0x54,0x48,0x00,0x00,
  50          
  51          /*--  文字:  &  --*/
  52          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  53          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  54          0x00,0x00,0x20,0x50,0x50,0x78,0xA8,0xA8,0x90,0x6C,0x00,0x00,
  55          
C51 COMPILER V9.00   TEXT1                                                                 05/09/2010 18:55:41 PAGE 2   

  56          /*--  文字:  '  --*/
  57          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  58          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  59          0x00,0x40,0x40,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  60          
  61          /*--  文字:  (  --*/
  62          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  63          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  64          0x00,0x04,0x08,0x10,0x10,0x10,0x10,0x10,0x10,0x08,0x04,0x00,
  65          
  66          /*--  文字:  )  --*/
  67          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  68          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  69          0x00,0x40,0x20,0x10,0x10,0x10,0x10,0x10,0x10,0x20,0x40,0x00,
  70          
  71          /*--  文字:  *  --*/
  72          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  73          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  74          0x00,0x00,0x00,0x20,0xA8,0x70,0x70,0xA8,0x20,0x00,0x00,0x00,
  75          
  76          /*--  文字:  +  --*/
  77          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  78          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  79          0x00,0x00,0x20,0x20,0x20,0xF8,0x20,0x20,0x20,0x00,0x00,0x00,
  80          
  81          /*--  文字:  ,  --*/
  82          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  83          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  84          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x40,0x80,
  85          
  86          /*--  文字:  -  --*/
  87          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  88          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  89          0x00,0x00,0x00,0x00,0x00,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,
  90          
  91          /*--  文字:  .  --*/
  92          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  93          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  94          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00,
  95          
  96          /*--  文字:  /  --*/
  97          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
  98          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
  99          0x00,0x08,0x10,0x10,0x10,0x20,0x20,0x40,0x40,0x40,0x80,0x00,
 100          
 101          /*--  文字:  0  --*/
 102          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 103          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 104          0x00,0x00,0x70,0x88,0x88,0x88,0x88,0x88,0x88,0x70,0x00,0x00,
 105          
 106          /*--  文字:  1  --*/
 107          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 108          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 109          0x00,0x00,0x20,0x60,0x20,0x20,0x20,0x20,0x20,0x70,0x00,0x00,
 110          
 111          /*--  文字:  2  --*/
 112          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 113          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 114          0x00,0x00,0x70,0x88,0x88,0x10,0x20,0x40,0x80,0xF8,0x00,0x00,
 115          
 116          /*--  文字:  3  --*/
 117          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
C51 COMPILER V9.00   TEXT1                                                                 05/09/2010 18:55:41 PAGE 3   

 118          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 119          0x00,0x00,0x70,0x88,0x08,0x30,0x08,0x08,0x88,0x70,0x00,0x00,
 120          
 121          /*--  文字:  4  --*/
 122          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 123          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 124          0x00,0x00,0x10,0x30,0x50,0x50,0x90,0x78,0x10,0x18,0x00,0x00,
 125          
 126          /*--  文字:  5  --*/
 127          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 128          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 129          0x00,0x00,0xF8,0x80,0x80,0xF0,0x08,0x08,0x88,0x70,0x00,0x00,
 130          
 131          /*--  文字:  6  --*/
 132          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 133          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 134          0x00,0x00,0x70,0x90,0x80,0xF0,0x88,0x88,0x88,0x70,0x00,0x00,
 135          
 136          /*--  文字:  7  --*/
 137          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 138          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 139          0x00,0x00,0xF8,0x90,0x10,0x20,0x20,0x20,0x20,0x20,0x00,0x00,
 140          
 141          /*--  文字:  8  --*/
 142          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 143          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 144          0x00,0x00,0x70,0x88,0x88,0x70,0x88,0x88,0x88,0x70,0x00,0x00,
 145          
 146          /*--  文字:  9  --*/
 147          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 148          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 149          0x00,0x00,0x70,0x88,0x88,0x88,0x78,0x08,0x48,0x70,0x00,0x00,
 150          
 151          /*--  文字:  :  --*/
 152          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 153          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 154          0x00,0x00,0x00,0x00,0x20,0x00,0x00,0x00,0x00,0x20,0x00,0x00,
 155          
 156          /*--  文字:  ;  --*/
 157          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 158          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 159          0x00,0x00,0x00,0x00,0x00,0x20,0x00,0x00,0x00,0x20,0x20,0x00,
 160          
 161          /*--  文字:  <  --*/
 162          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 163          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 164          0x00,0x04,0x08,0x10,0x20,0x40,0x20,0x10,0x08,0x04,0x00,0x00,
 165          
 166          /*--  文字:  =  --*/
 167          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 168          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 169          0x00,0x00,0x00,0x00,0xF8,0x00,0x00,0xF8,0x00,0x00,0x00,0x00,
 170          
 171          /*--  文字:  >  --*/
 172          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 173          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 174          0x00,0x40,0x20,0x10,0x08,0x04,0x08,0x10,0x20,0x40,0x00,0x00,
 175          
 176          /*--  文字:  ?  --*/
 177          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 178          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 179          0x00,0x00,0x70,0x88,0x88,0x10,0x20,0x20,0x00,0x20,0x00,0x00,
C51 COMPILER V9.00   TEXT1                                                                 05/09/2010 18:55:41 PAGE 4   

 180          
 181          /*--  文字:  @  --*/
 182          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 183          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 184          0x00,0x00,0x70,0x88,0x98,0xA8,0xA8,0xB8,0x80,0x78,0x00,0x00,
 185          
 186          /*--  文字:  A  --*/
 187          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 188          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 189          0x00,0x00,0x20,0x20,0x30,0x50,0x50,0x78,0x48,0xCC,0x00,0x00,
 190          
 191          /*--  文字:  B  --*/
 192          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 193          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 194          0x00,0x00,0xF0,0x48,0x48,0x70,0x48,0x48,0x48,0xF0,0x00,0x00,
 195          
 196          /*--  文字:  C  --*/
 197          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 198          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 199          0x00,0x00,0x78,0x88,0x80,0x80,0x80,0x80,0x88,0x70,0x00,0x00,
 200          
 201          /*--  文字:  D  --*/
 202          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 203          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 204          0x00,0x00,0xF0,0x48,0x48,0x48,0x48,0x48,0x48,0xF0,0x00,0x00,
 205          
 206          /*--  文字:  E  --*/
 207          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 208          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 209          0x00,0x00,0xF8,0x48,0x50,0x70,0x50,0x40,0x48,0xF8,0x00,0x00,
 210          
 211          /*--  文字:  F  --*/
 212          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 213          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 214          0x00,0x00,0xF8,0x48,0x50,0x70,0x50,0x40,0x40,0xE0,0x00,0x00,
 215          
 216          /*--  文字:  G  --*/
 217          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 218          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 219          0x00,0x00,0x38,0x48,0x80,0x80,0x9C,0x88,0x48,0x30,0x00,0x00,
 220          
 221          /*--  文字:  H  --*/
 222          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 223          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 224          0x00,0x00,0xCC,0x48,0x48,0x78,0x48,0x48,0x48,0xCC,0x00,0x00,
 225          
 226          /*--  文字:  I  --*/
 227          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 228          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 229          0x00,0x00,0xF8,0x20,0x20,0x20,0x20,0x20,0x20,0xF8,0x00,0x00,
 230          
 231          /*--  文字:  J  --*/
 232          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 233          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 234          0x00,0x00,0x7C,0x10,0x10,0x10,0x10,0x10,0x10,0x90,0xE0,0x00,
 235          
 236          /*--  文字:  K  --*/
 237          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 238          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 239          0x00,0x00,0xEC,0x48,0x50,0x60,0x50,0x50,0x48,0xEC,0x00,0x00,
 240          
 241          /*--  文字:  L  --*/
C51 COMPILER V9.00   TEXT1                                                                 05/09/2010 18:55:41 PAGE 5   

 242          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 243          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 244          0x00,0x00,0xE0,0x40,0x40,0x40,0x40,0x40,0x44,0xFC,0x00,0x00,
 245          
 246          /*--  文字:  M  --*/
 247          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 248          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 249          0x00,0x00,0xD8,0xD8,0xD8,0xD8,0xA8,0xA8,0xA8,0xA8,0x00,0x00,
 250          
 251          /*--  文字:  N  --*/
 252          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 253          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 254          0x00,0x00,0xDC,0x48,0x68,0x68,0x58,0x58,0x48,0xE8,0x00,0x00,
 255          
 256          /*--  文字:  O  --*/
 257          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 258          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 259          0x00,0x00,0x70,0x88,0x88,0x88,0x88,0x88,0x88,0x70,0x00,0x00,
 260          
 261          /*--  文字:  P  --*/
 262          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 263          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 264          0x00,0x00,0xF0,0x48,0x48,0x70,0x40,0x40,0x40,0xE0,0x00,0x00,
 265          
 266          /*--  文字:  Q  --*/
 267          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 268          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 269          0x00,0x00,0x70,0x88,0x88,0x88,0x88,0xE8,0x98,0x70,0x18,0x00,
 270          
 271          /*--  文字:  R  --*/
 272          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 273          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 274          0x00,0x00,0xF0,0x48,0x48,0x70,0x50,0x48,0x48,0xEC,0x00,0x00,
 275          
 276          /*--  文字:  S  --*/
 277          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 278          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 279          0x00,0x00,0x78,0x88,0x80,0x60,0x10,0x08,0x88,0xF0,0x00,0x00,
 280          
 281          /*--  文字:  T  --*/
 282          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 283          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 284          0x00,0x00,0xF8,0xA8,0x20,0x20,0x20,0x20,0x20,0x70,0x00,0x00,
 285          
 286          /*--  文字:  U  --*/
 287          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 288          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 289          0x00,0x00,0xCC,0x48,0x48,0x48,0x48,0x48,0x48,0x30,0x00,0x00,
 290          
 291          /*--  文字:  V  --*/
 292          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 293          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 294          0x00,0x00,0xCC,0x48,0x48,0x50,0x50,0x30,0x20,0x20,0x00,0x00,
 295          
 296          /*--  文字:  W  --*/
 297          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 298          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 299          0x00,0x00,0xA8,0xA8,0xA8,0x70,0x50,0x50,0x50,0x50,0x00,0x00,
 300          
 301          /*--  文字:  X  --*/
 302          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 303          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
C51 COMPILER V9.00   TEXT1                                                                 05/09/2010 18:55:41 PAGE 6   

 304          0x00,0x00,0xD8,0x50,0x50,0x20,0x20,0x50,0x50,0xD8,0x00,0x00,
 305          
 306          /*--  文字:  Y  --*/
 307          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 308          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 309          0x00,0x00,0xD8,0x50,0x50,0x20,0x20,0x20,0x20,0x70,0x00,0x00,
 310          
 311          /*--  文字:  Z  --*/
 312          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 313          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 314          0x00,0x00,0xF8,0x90,0x10,0x20,0x20,0x40,0x48,0xF8,0x00,0x00,
 315          
 316          /*--  文字:  [  --*/
 317          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 318          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 319          0x00,0x38,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x38,0x00,
 320          
 321          /*--  文字:  \  --*/
 322          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 323          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 324          0x00,0x40,0x40,0x40,0x20,0x20,0x10,0x10,0x10,0x08,0x00,0x00,
 325          
 326          /*--  文字:  ]  --*/
 327          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 328          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 329          0x00,0x70,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x70,0x00,
 330          
 331          /*--  文字:  ^  --*/
 332          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 333          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 334          0x00,0x20,0x50,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 335          
 336          /*--  文字:  _  --*/
 337          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 338          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 339          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFC,
 340          
 341          /*--  文字:  `  --*/
 342          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 343          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 344          0x00,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 345          
 346          /*--  文字:  a  --*/
 347          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 348          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 349          0x00,0x00,0x00,0x00,0x00,0x30,0x48,0x38,0x48,0x3C,0x00,0x00,
 350          
 351          /*--  文字:  b  --*/
 352          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 353          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 354          0x00,0x00,0xC0,0x40,0x40,0x70,0x48,0x48,0x48,0x70,0x00,0x00,
 355          
 356          /*--  文字:  c  --*/
 357          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 358          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 359          0x00,0x00,0x00,0x00,0x00,0x38,0x48,0x40,0x40,0x38,0x00,0x00,
 360          
 361          /*--  文字:  d  --*/
 362          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 363          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 364          0x00,0x00,0x18,0x08,0x08,0x38,0x48,0x48,0x48,0x3C,0x00,0x00,
 365          
C51 COMPILER V9.00   TEXT1                                                                 05/09/2010 18:55:41 PAGE 7   

 366          /*--  文字:  e  --*/
 367          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 368          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 369          0x00,0x00,0x00,0x00,0x00,0x30,0x48,0x78,0x40,0x38,0x00,0x00,
 370          
 371          /*--  文字:  f  --*/
 372          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 373          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 374          0x00,0x00,0x1C,0x20,0x20,0x78,0x20,0x20,0x20,0x78,0x00,0x00,
 375          
 376          /*--  文字:  g  --*/
 377          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 378          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 379          0x00,0x00,0x00,0x00,0x00,0x3C,0x48,0x30,0x40,0x78,0x44,0x38,
 380          
 381          /*--  文字:  h  --*/
 382          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 383          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 384          0x00,0x00,0xC0,0x40,0x40,0x70,0x48,0x48,0x48,0xEC,0x00,0x00,
 385          
 386          /*--  文字:  i  --*/
 387          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 388          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 389          0x00,0x00,0x20,0x00,0x00,0x60,0x20,0x20,0x20,0x70,0x00,0x00,
 390          
 391          /*--  文字:  j  --*/
 392          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 393          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 394          0x00,0x00,0x10,0x00,0x00,0x30,0x10,0x10,0x10,0x10,0x10,0xE0,
 395          
 396          /*--  文字:  k  --*/
 397          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 398          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 399          0x00,0x00,0xC0,0x40,0x40,0x5C,0x50,0x70,0x48,0xEC,0x00,0x00,
 400          
 401          /*--  文字:  l  --*/
 402          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 403          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 404          0x00,0x00,0xE0,0x20,0x20,0x20,0x20,0x20,0x20,0xF8,0x00,0x00,
 405          
 406          /*--  文字:  m  --*/
 407          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 408          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 409          0x00,0x00,0x00,0x00,0x00,0xF0,0xA8,0xA8,0xA8,0xA8,0x00,0x00,
 410          
 411          /*--  文字:  n  --*/
 412          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 413          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 414          0x00,0x00,0x00,0x00,0x00,0xF0,0x48,0x48,0x48,0xEC,0x00,0x00,
 415          
 416          /*--  文字:  o  --*/
 417          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 418          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 419          0x00,0x00,0x00,0x00,0x00,0x30,0x48,0x48,0x48,0x30,0x00,0x00,
 420          
 421          /*--  文字:  p  --*/
 422          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 423          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 424          0x00,0x00,0x00,0x00,0x00,0xF0,0x48,0x48,0x48,0x70,0x40,0xE0,
 425          
 426          /*--  文字:  q  --*/
 427          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
C51 COMPILER V9.00   TEXT1                                                                 05/09/2010 18:55:41 PAGE 8   

 428          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 429          0x00,0x00,0x00,0x00,0x00,0x38,0x48,0x48,0x48,0x38,0x08,0x1C,
 430          
 431          /*--  文字:  r  --*/
 432          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 433          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 434          0x00,0x00,0x00,0x00,0x00,0xD8,0x60,0x40,0x40,0xE0,0x00,0x00,
 435          
 436          /*--  文字:  s  --*/
 437          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 438          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 439          0x00,0x00,0x00,0x00,0x00,0x78,0x40,0x30,0x08,0x78,0x00,0x00,
 440          
 441          /*--  文字:  t  --*/
 442          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 443          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 444          0x00,0x00,0x00,0x20,0x20,0x70,0x20,0x20,0x20,0x18,0x00,0x00,
 445          
 446          /*--  文字:  u  --*/
 447          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 448          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 449          0x00,0x00,0x00,0x00,0x00,0xD8,0x48,0x48,0x48,0x3C,0x00,0x00,
 450          
 451          /*--  文字:  v  --*/
 452          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 453          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 454          0x00,0x00,0x00,0x00,0x00,0xEC,0x48,0x50,0x30,0x20,0x00,0x00,
 455          
 456          /*--  文字:  w  --*/
 457          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 458          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 459          0x00,0x00,0x00,0x00,0x00,0xA8,0xA8,0x70,0x50,0x50,0x00,0x00,
 460          
 461          /*--  文字:  x  --*/
 462          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 463          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 464          0x00,0x00,0x00,0x00,0x00,0xD8,0x50,0x20,0x50,0xD8,0x00,0x00,
 465          
 466          /*--  文字:  y  --*/
 467          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 468          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 469          0x00,0x00,0x00,0x00,0x00,0xEC,0x48,0x50,0x30,0x20,0x20,0xC0,
 470          
 471          /*--  文字:  z  --*/
 472          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 473          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 474          0x00,0x00,0x00,0x00,0x00,0x78,0x10,0x20,0x20,0x78,0x00,0x00,
 475          
 476          /*--  文字:  {  --*/
 477          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 478          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 479          0x00,0x18,0x10,0x10,0x10,0x20,0x10,0x10,0x10,0x10,0x18,0x00,
 480          
 481          /*--  文字:  |  --*/
 482          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 483          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 484          0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
 485          
 486          /*--  文字:  }  --*/
 487          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 488          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 489          0x00,0x60,0x20,0x20,0x20,0x10,0x20,0x20,0x20,0x20,0x60,0x00,
C51 COMPILER V9.00   TEXT1                                                                 05/09/2010 18:55:41 PAGE 9   

 490          
 491          /*--  文字:  ~  --*/
 492          /*--  宋体9;  此字体下对应的点阵为：宽x高=6x12   --*/
 493          /*--  宽度不是8的倍数，现调整为：宽度x高度=8x12  --*/
 494          0x40,0xA4,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 495          
 496              
 497          };  
 498          
 499          //**********************************************************
 500          void spistar()                                     //SPI开始
 501          {
 502   1      CS=1;
 503   1      DCLK=1;
 504   1      DIN=1;
 505   1      }
 506          //**********************************************************
 507          void WriteCharTo7843(unsigned char num)          //SPI写数据
 508          {
 509   1      unsigned char count=0;
 510   1      DCLK=0;
 511   1      for(count=0;count<8;count++)
 512   1      {
 513   2      num<<=1;
 514   2      DIN=CY;
 515   2      DCLK=0; _nop_();_nop_();_nop_();                //上升沿有效
 516   2      DCLK=1; _nop_();_nop_();_nop_();
 517   2      }
 518   1      }
 519          //**********************************************************
 520          unsigned int ReadFromCharFrom7843()             //SPI 读数据
 521          {
 522   1      unsigned char count=0;
 523   1      unsigned int Num=0;
 524   1      for(count=0;count<12;count++)
 525   1      {
 526   2      Num<<=1;
 527   2      DCLK=1; _nop_();_nop_();_nop_();                //下降沿有效
 528   2      DCLK=0; _nop_();_nop_();_nop_();
 529   2      if(DOUT) Num++;
 530   2      }
 531   1      return(Num);
 532   1      }
 533          
 534          void delayms(int count)  // /* X1ms */
 535          {
 536   1              int i,j;
 537   1              for(i=0;i<count;i++)
 538   1                      for(j=0;j<1000;j++);
 539   1      }
 540          void main_Write_COM( int  DH)    //命令
 541          {       
 542   1          LCD_RS=0;
 543   1              LCD_CS =0;       
 544   1              P2=DH>>8;       
 545   1              P0=DH;          
 546   1              LCD_WR=0;
 547   1              LCD_WR=1;
 548   1              LCD_CS =1;      
 549   1      }
 550          void main_Write_DATA(int DH)    //数据  
 551          {
C51 COMPILER V9.00   TEXT1                                                                 05/09/2010 18:55:41 PAGE 10  

 552   1          LCD_RS=1;
 553   1              LCD_CS =0;                                      
 554   1              P2=DH>>8;       
 555   1              P0=DH;                                  
 556   1              LCD_WR=0;
 557   1              LCD_WR=1;
 558   1              LCD_CS =1;      
 559   1      }
 560          
 561          
 562          void main_W_com_data( int com1,dat1)    //命令数据一起 
 563          {
 564   1         main_Write_COM(com1);
 565   1         main_Write_DATA(dat1);
 566   1      }
 567          
 568          
 569          
 570          void address_set(unsigned int x1,unsigned int y1,unsigned int x2,unsigned int y2)
 571          {
 572   1              main_W_com_data(0x0002,x1>>8);     // Column address start2
 573   1              main_W_com_data(0x0003,x1);        // Column address start1
 574   1              main_W_com_data(0x0004,x2>>8);     // Column address end2
 575   1              main_W_com_data(0x0005,x2);        // Column address end1
 576   1              main_W_com_data(0x0006,y1>>8);     // Row address start2
 577   1              main_W_com_data(0x0007,y1);        // Row address start1
 578   1          main_W_com_data(0x0008,y2>>8);         // Row address end2
 579   1              main_W_com_data(0x0009,y2);        // Row address end1
 580   1          main_Write_COM(0x0022);              
 581   1      
 582   1      }       
 583          void main_init(void)
 584          {
 585   1          LCD_RD=1;
 586   1          LCD_REST=1;
 587   1          delayms(5); 
 588   1              LCD_REST=0;
 589   1              delayms(20);
 590   1              LCD_REST=1;
 591   1              delayms(40);
 592   1      
 593   1                 //  VENDOR   
 594   1              main_W_com_data(0x0046,0x00A4);
 595   1              main_W_com_data(0x0047,0x0053);
 596   1              main_W_com_data(0x0048,0x0000);
 597   1              main_W_com_data(0x0049,0x0044);
 598   1              main_W_com_data(0x004a,0x0004);
 599   1              main_W_com_data(0x004b,0x0067);
 600   1              main_W_com_data(0x004c,0x0033);
 601   1              main_W_com_data(0x004d,0x0077);
 602   1              main_W_com_data(0x004e,0x0012);
 603   1              main_W_com_data(0x004f,0x004C);
 604   1              main_W_com_data(0x0050,0x0046);
 605   1              main_W_com_data(0x0051,0x0044);
 606   1                
 607   1                //240x320 window setting
 608   1          main_W_com_data(0x0002,0x0000); // Column address start2
 609   1              main_W_com_data(0x0003,0x0000); // Column address start1
 610   1              main_W_com_data(0x0004,0x0000); // Column address end2
 611   1              main_W_com_data(0x0005,0x00ef); // Column address end1
 612   1          main_W_com_data(0x0006,0x0000); // Row address start2
 613   1              main_W_com_data(0x0007,0x0000); // Row address start1
C51 COMPILER V9.00   TEXT1                                                                 05/09/2010 18:55:41 PAGE 11  

 614   1              main_W_com_data(0x0008,0x0001); // Row address end2
 615   1              main_W_com_data(0x0009,0x003f); // Row address end1
 616   1        
 617   1        // Display Setting
 618   1              main_W_com_data(0x0001,0x0006); // IDMON=0, INVON=1, NORON=1, PTLON=0
 619   1              main_W_com_data(0x0016,0x00C8); // MY=0, MX=0, MV=0, ML=1, BGR=0, TEON=0   0048
 620   1              main_W_com_data(0x0023,0x0095); // N_DC=1001 0101
 621   1              main_W_com_data(0x0024,0x0095); // PI_DC=1001 0101
 622   1              main_W_com_data(0x0025,0x00FF); // I_DC=1111 1111
 623   1              
 624   1              main_W_com_data(0x0027,0x0002); // N_BP=0000 0010
 625   1              main_W_com_data(0x0028,0x0002); // N_FP=0000 0010
 626   1              main_W_com_data(0x0029,0x0002); // PI_BP=0000 0010
 627   1              main_W_com_data(0x002a,0x0002); // PI_FP=0000 0010
 628   1              main_W_com_data(0x002C,0x0002); // I_BP=0000 0010
 629   1              main_W_com_data(0x002d,0x0002); // I_FP=0000 0010
 630   1              
 631   1              main_W_com_data(0x003a,0x0001); // N_RTN=0000, N_NW=001    0001
 632   1              main_W_com_data(0x003b,0x0000); // P_RTN=0000, P_NW=001
 633   1              main_W_com_data(0x003c,0x00f0); // I_RTN=1111, I_NW=000
 634   1              main_W_com_data(0x003d,0x0000); // DIV=00
 635   1              delayms(1);
 636   1              main_W_com_data(0x0035,0x0038); // EQS=38h
 637   1              main_W_com_data(0x0036,0x0078); // EQP=78h
 638   1              main_W_com_data(0x003E,0x0038); // SON=38h
 639   1              main_W_com_data(0x0040,0x000F); // GDON=0Fh
 640   1              main_W_com_data(0x0041,0x00F0); // GDOFF
 641   1              
 642   1              // Power Supply Setting
 643   1              main_W_com_data(0x0019,0x0049); // CADJ=0100, CUADJ=100, OSD_EN=1 ,60Hz
 644   1              main_W_com_data(0x0093,0x000F); // RADJ=1111, 100%
 645   1              delayms(1);
 646   1              main_W_com_data(0x0020,0x0040); // BT=0100
 647   1              main_W_com_data(0x001D,0x0007); // VC1=111   0007
 648   1              main_W_com_data(0x001E,0x0000); // VC3=000
 649   1              main_W_com_data(0x001F,0x0004); // VRH=0011
 650   1              
 651   1              //VCOM SETTING
 652   1              main_W_com_data(0x0044,0x004D); // VCM=101 0000  4D
 653   1              main_W_com_data(0x0045,0x000E); // VDV=1 0001   0011
 654   1              delayms(1);
 655   1              main_W_com_data(0x001C,0x0004); // AP=100
 656   1              delayms(2);
 657   1              
 658   1              main_W_com_data(0x001B,0x0018); // GASENB=0, PON=0, DK=1, XDK=0, VLCD_TRI=0, STB=0
 659   1              delayms(1);
 660   1              main_W_com_data(0x001B,0x0010); // GASENB=0, PON=1, DK=0, XDK=0, VLCD_TRI=0, STB=0
 661   1              delayms(1);
 662   1              main_W_com_data(0x0043,0x0080); //set VCOMG=1
 663   1              delayms(2);
 664   1              
 665   1              // Display ON Setting
 666   1              main_W_com_data(0x0090,0x007F); // SAP=0111 1111
 667   1              main_W_com_data(0x0026,0x0004); //GON=0, DTE=0, D=01
 668   1              delayms(1);
 669   1              main_W_com_data(0x0026,0x0024); //GON=1, DTE=0, D=01
 670   1              main_W_com_data(0x0026,0x002C); //GON=1, DTE=0, D=11
 671   1              delayms(1);
 672   1              main_W_com_data(0x0026,0x003C); //GON=1, DTE=1, D=11
 673   1              
 674   1              // INTERNAL REGISTER SETTING
 675   1              main_W_com_data(0x0057,0x0002); // TEST_Mode=1: into TEST mode
C51 COMPILER V9.00   TEXT1                                                                 05/09/2010 18:55:41 PAGE 12  

 676   1              main_W_com_data(0x0095,0x0001); // SET DISPLAY CLOCK AND PUMPING CLOCK TO SYNCHRONIZE
 677   1              main_W_com_data(0x0057,0x0000); // TEST_Mode=0: exit TEST mode
 678   1              //main_W_com_data(0x0021,0x0000);
 679   1              main_Write_COM(0x0022);  
 680   1      
 681   1      }
 682          
 683          
 684          void Pant(unsigned int color)
 685          {
 686   1              int i,j;
 687   1              address_set(0,0,239,319);
 688   1      
 689   1          for(i=0;i<320;i++)
 690   1               {
 691   2                for (j=0;j<240;j++)
 692   2                      {
 693   3               main_Write_DATA(color);
 694   3                  }
 695   2      
 696   2                }             
 697   1      }
 698          void inttostr(int dd,unsigned char *str)
 699          {
 700   1              str[0]=dd/10000+48;
 701   1              str[1]=(dd/1000)-((dd/10000)*10)+48;
 702   1              str[2]=(dd/100)-((dd/1000)*10)+48;
 703   1              str[3]=(dd/10)-((dd/100)*10)+48;
 704   1              str[4]=dd-((dd/10)*10)+48;
 705   1              str[5]=0;
 706   1      }
 707          void AD7843(void)              //外部中断0 用来接受键盘发来的数据
 708          {
 709   1      //delayms(1);                     //中断后延时以消除抖动，使得采样数据更准确
 710   1      //spistar();                       //启动SPI
 711   1      //while(BUSY);                //如果BUSY信号不好使可以删除不用
 712   1      //delayms(1);
 713   1      CS=0;
 714   1      WriteCharTo7843(0x90);        //送控制字 10010000 即用差分方式读X坐标 详细请见有关资料
 715   1      //while(BUSY);               //如果BUSY信号不好使可以删除不用
 716   1      //delayms(1);
 717   1      DCLK=1; _nop_();_nop_();_nop_();_nop_();
 718   1      DCLK=0; _nop_();_nop_();_nop_();_nop_();
 719   1      TP_Y=ReadFromCharFrom7843();
 720   1      WriteCharTo7843(0xD0);       //送控制字 11010000 即用差分方式读Y坐标 详细请见有关资料
 721   1      DCLK=1; _nop_();_nop_();_nop_();_nop_();
 722   1      DCLK=0; _nop_();_nop_();_nop_();_nop_();
 723   1      TP_X=ReadFromCharFrom7843();
 724   1      CS=1;
 725   1      }
 726          
 727          //在指定位置显示一个字符(8*12大小)
 728          //dcolor为内容颜色，gbcolor为背静颜色
 729          void showzifu(unsigned int x,unsigned int y,unsigned char value,unsigned int dcolor,unsigned int bgcolor)       
 730          {  
 731   1              unsigned char i,j;
 732   1              unsigned char *temp=zifu;    
 733   1          address_set(x,y,x+7,y+11); //设置区域      
 734   1              temp+=(value-32)*12;
 735   1              for(j=0;j<12;j++)
 736   1              {
 737   2                      for(i=0;i<8;i++)
C51 COMPILER V9.00   TEXT1                                                                 05/09/2010 18:55:41 PAGE 13  

 738   2                      {                    
 739   3                              if((*temp&(1<<(7-i)))!=0)
 740   3                              {
 741   4                                      main_Write_DATA(dcolor);
 742   4                              } 
 743   3                              else
 744   3                              {
 745   4                                      main_Write_DATA(bgcolor);
 746   4                              }   
 747   3                      }
 748   2                      temp++;
 749   2               }
 750   1      }
 751          //在指定位置显示一个字符串(8*12大小)
 752          //dcolor为内容颜色，gbcolor为背静颜色
 753          void showzifustr(unsigned int x,unsigned int y,unsigned char *str,unsigned int dcolor,unsigned int bgcolor
             -)          
 754          {  
 755   1              unsigned int x1,y1;
 756   1              x1=x;
 757   1              y1=y;
 758   1              while(*str!='\0')
 759   1              {       
 760   2                      showzifu(x1,y1,*str,dcolor,bgcolor);
 761   2                      x1+=7;
 762   2                      str++;
 763   2              }       
 764   1      }
 765          
 766          main()
 767          {
 768   1      
 769   1              unsigned char ss[6];    
 770   1              unsigned int lx,ly;
 771   1              spistar();  //模拟spi初始化
 772   1              main_init();   //tft初始化       
 773   1              Pant(0xffff);
 774   1              showzifustr(68,5,"VERY GOOD",0,0xffff); //显示字符串 
 775   1              while(1)
 776   1              { 
 777   2                      if (IRQ==0)
 778   2                      {       
 779   3                              AD7843();
 780   3                              inttostr(TP_X,ss);
 781   3                              showzifustr(10,305,"X:",0xf800,0xffff);
 782   3                              showzifustr(25,305,ss,0xf800,0xffff);   //显示字符串 
 783   3                              inttostr(TP_Y,ss);
 784   3                              showzifustr(80,305,"Y:",0xf800,0xffff);
 785   3                              showzifustr(95,305,ss,0xf800,0xffff);   //显示字符串 
 786   3                              lx=((TP_X-220)/16);
 787   3                              ly=320-((TP_Y-400)/11);
 788   3                              address_set(lx,ly,lx+2,ly+2);
 789   3                              main_Write_DATA(255);
 790   3                              main_Write_DATA(255);
 791   3                              main_Write_DATA(255);
 792   3                              main_Write_DATA(255);
 793   3                              main_Write_DATA(255);
 794   3                              main_Write_DATA(255);
 795   3                              main_Write_DATA(255);
 796   3                              main_Write_DATA(255);
 797   3                              main_Write_DATA(255);
 798   3      
C51 COMPILER V9.00   TEXT1                                                                 05/09/2010 18:55:41 PAGE 14  

 799   3                      //      delayms(100);
 800   3      
 801   3                      }
 802   2          }
 803   1      
 804   1      
 805   1      
 806   1      }
 807          
 808          
 809          
 810          
 811          
 812          
 813          
 814          
 815          
 816          
 817          
 818          
 819          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1711    ----
   CONSTANT SIZE    =   1156    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4      54
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
